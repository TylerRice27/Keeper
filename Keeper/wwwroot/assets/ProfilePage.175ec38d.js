import{s as K,H as b,c as r,a as m,o as c,b as d,d as s,t as n,j as _,y as g,F as v,x as h,z as P,A as S,I as V}from"./vendor.f59b7483.js";import{a as p,A as i,l as u,_ as A,P as C}from"./index.2c3d6d6c.js";class U{async getProfile(e){const a=await p.get("api/profiles/"+e);i.activeProfile=a.data}async getUsersVaults(e){const a=await p.get(`api/profiles/${e}/vaults`);u.log("User vaults",a.data),i.profileVaults=a.data}async getUsersKeeps(e){const a=await p.get(`api/profiles/${e}/keeps`);u.log("Users keeps",a.data),i.profileKeeps=a.data}}const f=new U;const x={name:"Profile",setup(t){const e=K();return b(async()=>{try{await f.getProfile(e.params.id),await f.getUsersVaults(e.params.id),await f.getUsersKeeps(e.params.id)}catch(a){u.error(a),C.toast(a.message,"error")}}),{account:r(()=>i.account),profile:r(()=>i.activeProfile),keeps:r(()=>i.keeps),profileKeeps:r(()=>i.profileKeeps),profileVaults:r(()=>i.profileVaults),myVaults:r(()=>i.myVaults),vaults:r(()=>i.vaults)}}},y=t=>(P("data-v-36f4e162"),t=t(),S(),t),I={class:"container-fluid"},B={class:"d-flex col-md-12 mt-4"},j=["src"],D={class:"mt-3"},E={class:"p-1"},F={class:"p-1"},z={class:"p-1"},H={class:"row"},L={class:"col-md-12 mt-5 d-flex"},M=y(()=>s("h1",null,"Vaults",-1)),N={class:"row m-2"},R={class:"row"},q={class:"col-md-12 mt-5 d-flex"},G=y(()=>s("h1",null,"Keeps",-1)),J={class:"masonry-with-columns"};function O(t,e,a,l,Q,T){const k=m("Vault"),w=m("Kep");return c(),d("div",I,[s("div",B,[s("img",{class:"rounded m-3 img-fluid selectable logo",src:l.profile.picture,title:"Edit Account",alt:"",onClick:e[0]||(e[0]=(...o)=>t.editAccount&&t.editAccount(...o)),"data-bs-toggle":"modal","data-bs-target":"#editAccount-form"},null,8,j),s("div",D,[s("h1",E,n(l.profile.name),1),s("h3",F,"Vaults: "+n(l.profileVaults.length),1),s("h3",z,"Keeps: "+n(l.profileKeeps.length),1)])]),s("div",H,[s("div",L,[M,_(s("i",{onClick:e[1]||(e[1]=(...o)=>t.createVault&&t.createVault(...o)),title:"Create a Vault","data-bs-toggle":"modal","data-bs-target":"#create-vault",class:"mdi mdi-plus fs-1 text-primary selectable"},null,512),[[g,l.profile.id==l.account.id]])])]),s("div",N,[(c(!0),d(v,null,h(l.profileVaults,o=>(c(),V(k,{key:o.id,vault:o},null,8,["vault"]))),128))]),s("div",R,[s("div",q,[G,_(s("i",{onClick:e[2]||(e[2]=(...o)=>t.createKeep&&t.createKeep(...o)),title:"Create a Keep","data-bs-toggle":"modal","data-bs-target":"#create-keep",class:"mdi mdi-plus fs-1 text-primary selectable"},null,512),[[g,l.profile.id==l.account.id]])])]),s("div",J,[(c(!0),d(v,null,h(l.profileKeeps,o=>(c(),V(w,{"data-bs-toggle":"modal","data-bs-target":"#keep-details",key:o.id,keep:o},null,8,["keep"]))),128))])])}var Y=A(x,[["render",O],["__scopeId","data-v-36f4e162"]]);export{Y as default};
